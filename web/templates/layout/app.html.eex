<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Around Edinburgh is a web app that helps you explore a curated list of cool places in Edinburgh.">
    <meta name="author" content="Fotis Papado">

    <title>Around Edinburgh</title>
    <link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css">
    <link rel="stylesheet" href="/css/app.css">
  </head>

  <body class="w-100">
      <main role="main" class="mw7-ns mw8-l center">
          <nav class="db w-100 pa3 ph5-ns border-box cf">
              <div class="fl w-100 w-40-ns tc v-mid sans-serif">
                  <a class="db f6 f5-ns pa2 link dim ba bw2 b--bright-green black-70 tracked lh-title b ttu",
                     href="/">
                      Around Edinburgh
                  </a>
              </div>
              <div class="fl w-100 w-60-ns v-mid">
                  <ul class="list mt3 mb0 pl0 tc tr-ns">
                      <%= if @current_user do %>
                      <li class="dib mr2">
                          <a class="f6 f5-ns b db dark-green"><%= @current_user.username %></a>
                      </li>
                      <li class="dib mr2">
                          <%= link "Places", to: place_path(@conn, :index),
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <li class="dib mr2">
                          <%= link "My Places", to: place_path(@conn, :user_places_index),
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <li class="dib mr2">
                          <%= link "Log out", to: session_path(@conn, :delete, @current_user), method: "delete",
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <% else %>
                      <li class="dib mr2">
                          <%= link "Places", to: place_path(@conn, :index),
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <li class="dib mr2">
                          <%= link "Register", to: user_path(@conn, :new),
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <li class="dib">
                          <%= link "Log in", to: session_path(@conn, :new),
                          class: "f6 f5-ns b db link dim mid-gray" %>
                      </li>
                      <% end %>
                  </ul>
              </div>
          </nav>

          <div class="pa3 ph5-ns">

              <p class="alert db mb3 pa2 b ba bw2 b--dark-green dark-green" role="alert"><%= get_flash(@conn, :info) %></p>
              <p class="alert db mb3 pa2 b ba bw2 b--pale-red pale-red" role="alert"><%= get_flash(@conn, :error) %></p>

              <%= render @view_module, @view_template, assigns %>

          </div> <!-- /container -->
      </main>
    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
  </body>
</html>
